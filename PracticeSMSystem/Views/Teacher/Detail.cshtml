@model PracticeSMSystem.Data.Models.Teacher
@{
    ViewData["Title"] = "Teacher Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string activeTab = ViewBag.ActiveTab ?? "General";
}

<section class="content-header" style="margin:0; padding:5px 10px;">
    <h2 style="margin:0; padding:0; line-height:1;">
        Teacher Details
        <a asp-action="TeacherList" asp-controller="Teacher" class="btn btn-sm btn-success" style="position:absolute; top:5px; right:10px;">Back to List</a>
    </h2>
</section>

<section class="content mt-3">
    <div class="nav-tabs-custom">
        <ul class="nav nav-tabs pull-right">
            <li class="@(activeTab == "General" ? "active" : "")"><a href="#General" data-toggle="tab">General Info</a></li>
            <li class="@(activeTab == "Teacher" ? "active" : "")"><a href="#Teacher" data-toggle="tab">Teacher Info</a></li>
            <li class="@(activeTab == "Contact" ? "active" : "")"><a href="#Contact" data-toggle="tab">Contact Info</a></li>
            <li class="@(activeTab == "Activity" ? "active" : "")"><a href="#Activity" data-toggle="tab">Activity</a></li>
            <li class="pull-left header"><i class="fa fa-user"></i> Teacher Profile</li>
        </ul>

        <div class="tab-content">

            <!-- 1️⃣ General Info -->
            <div class="tab-pane @(activeTab == "General" ? "active" : "")" id="General">
                <div class="box box-primary shadow-lg" style="margin-top:15px;">
                    <div class="box-header with-border bg-aqua-gradient text-white">
                        <h3 class="box-title">General Information</h3>
                    </div>
                    <div class="box-body">
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Full Name</div>
                            <div class="col-sm-9">@Model.FullName</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Gender</div>
                            <div class="col-sm-9">@Model.Gender</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Date of Birth</div>
                            <div class="col-sm-9">@Model.DateOfBirth.ToString("dd-MMM-yyyy")</div>
                        </div>
                    </div>
                    <div class="box-footer">
                        <button class="btn btn-warning btn-sm"
                                onclick="openModal('/Teacher/Edit/@Model.Id?section=General')">
                            Edit
                        </button>

                        @* <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger btn-sm">Delete</a> *@
                    </div>
                </div>
            </div>

            <!-- 2️⃣ Teacher Info -->
            <div class="tab-pane @(activeTab == "Teacher" ? "active" : "")" id="Teacher">
                <div class="box box-primary shadow-lg" style="margin-top:15px;">
                    <div class="box-header with-border bg-aqua-gradient text-white">
                        <h3 class="box-title">Teacher Information</h3>
                    </div>
                    <div class="box-body">
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Qualification</div>
                            <div class="col-sm-9">@Model.Qualification</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Hire Date</div>
                            <div class="col-sm-9">@Model.HireDate.ToString("dd-MMM-yyyy")</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Status</div>
                            <div class="col-sm-9">@Model.Status</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Salary</div>
                            <div class="col-sm-9">@Model.Salary</div>
                        </div>

                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Department</div>
                            <div class="col-sm-9">@Model.Department?.DName</div>
                        </div>

                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Assigned Classes</div>
                            <div class="col-sm-9">
                                @if (Model.TeacherClasses != null && Model.TeacherClasses.Any())
                                {
                                    <ul>
                                        @foreach (var tc in Model.TeacherClasses)
                                        {
                                            <li>@tc.ClassRoom.ClassRName</li>
                                        }
                                    </ul>
                                }
                                else
                                {
                                    <span>No classes assigned yet.</span>
                                }
                            </div>
                        </div>

                    </div>
                    <div class="box-footer">
                        <button class="btn btn-warning btn-sm"
                                onclick="openModal('/Teacher/Edit/@Model.Id?section=Teacher')">
                            Edit
                        </button>

                       @*  <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger btn-sm">Delete</a> *@
                    </div>
                </div>
            </div>

            <!-- 3️⃣ Contact Info -->
            <div class="tab-pane @(activeTab == "Contact" ? "active" : "")" id="Contact">
                <div class="box box-primary shadow-lg" style="margin-top:15px;">
                    <div class="box-header with-border bg-aqua-gradient text-white">
                        <h3 class="box-title">Contact Information</h3>
                    </div>
                    <div class="box-body">
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Email</div>
                            <div class="col-sm-9">@Model.Email</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Phone</div>
                            <div class="col-sm-9">@Model.PhoneNo</div>
                        </div>
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Address</div>
                            <div class="col-sm-9">@Model.Address</div>
                        </div>
                    </div>
                    <div class="box-footer">
                        <button class="btn btn-warning btn-sm"
                                onclick="openModal('/Teacher/Edit/@Model.Id?section=Contact')">
                            Edit
                        </button>

                        @* <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger btn-sm">Delete</a> *@
                    </div>
                </div>
            </div>

            <!-- 4️⃣ Activity -->
            <div class="tab-pane @(activeTab == "Activity" ? "active" : "")" id="Activity">
                <div class="box box-primary shadow-lg" style="margin-top:15px;">
                    <div class="box-header with-border bg-aqua-gradient text-white">
                        <h3 class="box-title">Activity</h3>
                    </div>
                    <div class="box-body">
                        <div class="row mb-2">
                            <div class="col-sm-3 font-weight-bold">Recent Activity</div>
                            <div class="col-sm-9">@Model.Activity</div>
                        </div>
                    </div>
                    <div class="box-footer">
                        <button class="btn btn-warning btn-sm"
                                onclick="openModal('/Teacher/Edit/@Model.Id?section=Activity')">
                            Edit
                        </button>
                        @* @* <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger btn-sm">Delete</a> *@ 
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>


